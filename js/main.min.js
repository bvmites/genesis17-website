var Canvas=document.getElementById("canvas"),ctx=Canvas.getContext("2d"),resize=function(){Canvas.width=Canvas.clientWidth,Canvas.height=Canvas.clientHeight};window.addEventListener("resize",resize),resize();var elements=[],presets={};presets.o=function(t,e,s,a,n){return{x:t,y:e,r:12*s,w:5*s,dx:a,dy:n,draw:function(e,s){this.x+=this.dx,this.y+=this.dy,e.beginPath(),e.arc(this.x+3*+Math.sin((50+t+s/10)/100),this.y+4*+Math.sin((45+t+s/10)/100),this.r,0,2*Math.PI,!1),e.lineWidth=this.w,e.strokeStyle="#000",e.stroke()}}},presets.x=function(t,e,s,a,n,i,r){return r=r||0,{x:t,y:e,s:20*s,w:5*s,r:r,dx:a,dy:n,dr:i,draw:function(e,s){this.x+=this.dx,this.y+=this.dy,this.r+=this.dr;var a=this,n=function(t,s,n,i,r,h){h=h||0,e.beginPath(),e.moveTo(-h+a.s/2*t,h+a.s/2*s),e.lineTo(-h+a.s/2*n,h+a.s/2*i),e.lineWidth=a.w,e.strokeStyle=r,e.stroke()};e.save(),e.translate(this.x+5*Math.sin((t+s/10)/100),this.y+2*Math.sin((10+t+s/10)/100)),e.rotate(this.r*Math.PI/180),n(-1,-1,1,1,"#000"),n(1,-1,-1,1,"#000"),e.restore()}}};for(var x=0;x<Canvas.width;x++)for(var y=0;y<Canvas.height;y++)if(1==Math.round(8e3*Math.random())){var s=(5*Math.random()+1)/10;1==Math.round(Math.random())?elements.push(presets.o(x,y,s,0,0)):elements.push(presets.x(x,y,s,0,0,(3*Math.random()-1)/10,360*Math.random()))}setInterval(function(){ctx.clearRect(0,0,Canvas.width,Canvas.height);var t=(new Date).getTime();for(var e in elements)elements[e].draw(ctx,t)},10);